import{t as k,a as h,b as be}from"../chunks/DxE_hgbo.js";import"../chunks/X65t6Fy2.js";import{p as oe,C as K,B as y,v as t,w as o,x as e,t as S,E as X,l as n,y as Z,s as ie,D as Q,ah as re}from"../chunks/aKHJVnJd.js";import{s as g,e as I,h as me}from"../chunks/CwkNoWtF.js";import{p as ne,i as P}from"../chunks/xk1eHqHQ.js";import{e as ee,a as W,i as ce}from"../chunks/Ch0s5eEp.js";import{s as te,r as he,a as ge}from"../chunks/ow-q-i8j.js";import{i as ve}from"../chunks/DfOA5sYv.js";import{o as _e}from"../chunks/6f0gK655.js";import{B as ze}from"../chunks/UbZGrs6f.js";import{g as we}from"../chunks/DHm3UMIn.js";function xe(q){return function(..._){var s=_[0];return s.preventDefault(),q==null?void 0:q.apply(this,_)}}const ye=async({params:q,fetch:_})=>{try{const s=await _(`/api/articles?id=${q.id}`);if(!s.ok)throw new Error(`Error fetching article: ${s.status}`);return{article:await s.json()}}catch(s){return console.error("Failed to load article:",s),{article:null,error:s instanceof Error?s.message:"Unknown error"}}},Fe=Object.freeze(Object.defineProperty({__proto__:null,load:ye},Symbol.toStringTag,{value:"Module"}));var ke=k('<li class="svelte-1idabqc"><a> </a></li>'),qe=k('<div><div class="toc-toggle-btn svelte-1idabqc" role="button" tabindex="0"><i></i> <span class="sr-only svelte-1idabqc"> </span></div> <div class="floating-toc svelte-1idabqc"><div class="floating-toc-header svelte-1idabqc"><span>On this page</span> <button class="close-toc-btn svelte-1idabqc" aria-label="Close table of contents"><i class="fas fa-times"></i></button></div> <ul class="floating-toc-list svelte-1idabqc"></ul> <div class="toc-settings svelte-1idabqc"><label class="toc-setting-toggle svelte-1idabqc"><input type="checkbox" class="svelte-1idabqc"> <span class="setting-label svelte-1idabqc">Close after navigation</span></label></div></div></div>');function Ee(q,_){var L;oe(_,!1);let s=ne(_,"sections",8),a=K(!1),z=K((L=s()[0])==null?void 0:L.id),j,E=K(!1);const $=()=>{y(a,!n(a))},J=()=>{y(E,!n(E));try{localStorage.setItem("tocCloseOnNavigation",JSON.stringify(n(E)))}catch{}};_e(()=>{try{const l=localStorage.getItem("tocCloseOnNavigation");l&&y(E,JSON.parse(l))}catch{}const f={root:null,rootMargin:"-80px 0px -70% 0px",threshold:[.1,.2,.3]};let c=new Map;j=new IntersectionObserver(l=>{var r,N;if(l.forEach(O=>{const T=O.target.id;O.isIntersecting?c.set(T,O.intersectionRatio):c.delete(T)}),c.size>0){const O=[...c.entries()].sort((T,M)=>M[1]-T[1]);y(z,O[0][0])}else l.length>0&&(window.scrollY<200?y(z,(r=s()[0])==null?void 0:r.id):window.innerHeight+window.scrollY>=document.body.offsetHeight-200&&y(z,(N=s()[s().length-1])==null?void 0:N.id))},f),s().forEach(l=>{const r=document.getElementById(l.id);r&&j.observe(r)});const x=()=>{var l,r;window.scrollY<100?y(z,(l=s()[0])==null?void 0:l.id):window.innerHeight+window.scrollY>=document.body.offsetHeight-100&&y(z,(r=s()[s().length-1])==null?void 0:r.id)};return window.addEventListener("scroll",x),()=>{s().forEach(l=>{const r=document.getElementById(l.id);r&&j.unobserve(r)}),window.removeEventListener("scroll",x)}});const R=f=>{const c=document.getElementById(f);c&&(c.scrollIntoView({behavior:"smooth"}),y(z,f),n(E)&&y(a,!1))};ve();var B=qe();let U;var D=t(B),F=t(D),V=o(F,2),b=t(V);e(V),e(D);var m=o(D,2),w=t(m),C=o(t(w),2);e(w);var v=o(w,2);ee(v,5,s,ce,(f,c)=>{var x=ke(),l=t(x);let r;var N=t(l,!0);e(l),e(x),S(O=>{te(l,"href",`#${n(c).id}`),r=W(l,1,"svelte-1idabqc",null,r,O),g(N,n(c).title)},[()=>({active:n(z)===n(c).id})],X),I("click",l,xe(()=>R(n(c).id))),h(f,x)}),e(v);var d=o(v,2),A=t(d),H=t(A);he(H),Z(2),e(A),e(d),e(m),e(B),S(f=>{U=W(B,1,"toc-container svelte-1idabqc",null,U,f),W(F,1,`fas fa-chevron-${n(a)?"right":"left"}`),g(b,`${n(a)?"Close":"Open"} table of contents`),ge(H,n(E))},[()=>({open:n(a)})],X),I("click",D,$),I("keydown",D,f=>f.key==="Enter"&&$()),I("click",C,$),I("change",H,J),h(q,B),ie()}var Oe=k('<!> <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">',1),Se=k('<div class="error-container svelte-11o97ez"><i class="fas fa-exclamation-circle svelte-11o97ez"></i> <p class="svelte-11o97ez"></p> <div class="error-actions svelte-11o97ez"><button class="btn-back svelte-11o97ez"><i class="fas fa-arrow-left svelte-11o97ez"></i> Back to Articles</button> <button class="btn-retry svelte-11o97ez"><i class="fas fa-sync svelte-11o97ez"></i> Retry</button></div></div>'),Ce=k('<span class="author svelte-11o97ez"> </span>'),$e=k('<span class="tag svelte-11o97ez"> </span>'),Be=k('<section class="article-section svelte-11o97ez"><h2 class="svelte-11o97ez"> </h2> <p class="svelte-11o97ez"> </p></section>'),De=k('<!> <div class="article-page svelte-11o97ez"><article class="article-content svelte-11o97ez"><header class="article-header svelte-11o97ez"><div class="article-meta svelte-11o97ez"><!> <time class="svelte-11o97ez"> </time> <!></div> <h1 class="svelte-11o97ez"> </h1> <p class="subtitle svelte-11o97ez"> </p> <div class="article-tags svelte-11o97ez"></div></header> <div class="article-body"></div></article></div>',1),Ie=k('<div class="loading-container svelte-11o97ez"><i class="fas fa-circle-notch fa-spin svelte-11o97ez"></i> <span>Loading article...</span></div>'),Ne=k('<div class="breadcrumb-container svelte-11o97ez"><nav class="breadcrumb svelte-11o97ez" aria-label="Breadcrumb"><ul class="svelte-11o97ez"><li class="svelte-11o97ez"><a href="/" class="svelte-11o97ez">Home</a></li> <li class="svelte-11o97ez"><a href="/articles" class="svelte-11o97ez">Articles</a></li> <li aria-current="page" class="svelte-11o97ez"> </li></ul></nav></div> <!>',1);function Ve(q,_){oe(_,!1);let s=ne(_,"data",8),a=s().article,z=s().error;const j=b=>new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});ve();var E=Ne();me(b=>{var m=Oe(),w=Q(m);{var C=d=>{S(()=>re.title=`${a.title??""} - Tech Central`)},v=d=>{re.title="Article - Tech Central"};P(w,d=>{a?d(C):d(v,!1)})}Z(2),h(b,m)});var $=Q(E),J=t($),R=t(J),B=o(t(R),4),U=t(B,!0);e(B),e(R),e(J),e($);var D=o($,2);{var F=b=>{var m=Se(),w=o(t(m),2);w.textContent=`Error: ${z??""}`;var C=o(w,2),v=t(C),d=o(v,2);e(C),e(m),I("click",v,()=>we("/articles")),I("click",d,()=>window.location.reload()),h(b,m)},V=(b,m)=>{{var w=v=>{var d=De(),A=Q(d);{var H=i=>{Ee(i,{get sections(){return a.content}})};P(A,i=>{var u;((u=a.content)==null?void 0:u.length)>0&&i(H)})}var L=o(A,2),f=t(L),c=t(f),x=t(c),l=t(x);ze(l,{children:(i,u)=>{Z();var p=be();S(()=>g(p,a.type)),h(i,p)},$$slots:{default:!0}});var r=o(l,2),N=t(r,!0);e(r);var O=o(r,2);{var T=i=>{var u=Ce(),p=t(u);e(u),S(()=>g(p,`by ${a.author??""}`)),h(i,u)};P(O,i=>{a.author&&i(T)})}e(x);var M=o(x,2),de=t(M,!0);e(M);var G=o(M,2),fe=t(G,!0);e(G);var ae=o(G,2);ee(ae,5,()=>a.tags,ce,(i,u)=>{var p=$e(),Y=t(p,!0);e(p),S(()=>g(Y,n(u))),h(i,p)}),e(ae),e(c);var se=o(c,2);ee(se,5,()=>a.content,i=>i.id,(i,u)=>{var p=Be(),Y=t(p),ue=t(Y,!0);e(Y);var le=o(Y,2),pe=t(le,!0);e(le),e(p),S(()=>{te(p,"id",n(u).id),g(ue,n(u).title),g(pe,n(u).content)}),h(i,p)}),e(se),e(f),e(L),S(i=>{te(r,"datetime",a.publishDate),g(N,i),g(de,a.title),g(fe,a.subtitle)},[()=>j(a.publishDate)],X),h(v,d)},C=v=>{var d=Ie();h(v,d)};P(b,v=>{a?v(w):v(C,!1)},m)}};P(D,b=>{z?b(F):b(V,!1)})}S(()=>g(U,(a==null?void 0:a.title)||"Article")),h(q,E),ie()}export{Ve as component,Fe as universal};
